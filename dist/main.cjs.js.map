{"version":3,"file":"main.cjs.js","sources":["../../../node_modules/.pnpm/side-effect-manager@1.2.1/node_modules/side-effect-manager/dist/side-effect-manager.es.js","../../../node_modules/.pnpm/randomcolor@0.6.2/node_modules/randomcolor/randomColor.js","../../app-shared/src/logger.ts","../src/utils.ts","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/utils/freeze.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/utils/element.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/utils/global.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/utils/process.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.3.1/node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../src/renderer.ts","../src/icons/arrow-left.ts","../src/icons/arrow-right.ts","../src/footer.ts","../src/connect.ts","../src/hardcode.ts","../src/index.ts"],"sourcesContent":["const SOUP = \"!#%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\nconst SOUP_LEN = 87;\nconst ID_LEN = 20;\nconst reusedIdCarrier = [];\nconst genUID = () => {\n  for (let i = 0; i < ID_LEN; i++) {\n    reusedIdCarrier[i] = SOUP.charAt(Math.random() * SOUP_LEN);\n  }\n  return reusedIdCarrier.join(\"\");\n};\nfunction invoke(fn) {\n  try {\n    return fn();\n  } catch (e) {\n    console.error(e);\n  }\n}\nclass SideEffectManager {\n  constructor() {\n    this.push = this.addDisposer;\n    this.disposers = new Map();\n  }\n  addDisposer(disposer, disposerID = this.genUID()) {\n    this.flush(disposerID);\n    this.disposers.set(disposerID, Array.isArray(disposer) ? joinDisposers(disposer) : disposer);\n    return disposerID;\n  }\n  add(executor, disposerID = this.genUID()) {\n    const disposers = executor();\n    return disposers ? this.addDisposer(disposers, disposerID) : disposerID;\n  }\n  addEventListener(el, type, listener, options, disposerID = this.genUID()) {\n    el.addEventListener(type, listener, options);\n    this.addDisposer(() => el.removeEventListener(type, listener, options), disposerID);\n    return disposerID;\n  }\n  setTimeout(handler, timeout, disposerID = this.genUID()) {\n    const ticket = window.setTimeout(() => {\n      this.remove(disposerID);\n      handler();\n    }, timeout);\n    return this.addDisposer(() => window.clearTimeout(ticket), disposerID);\n  }\n  setInterval(handler, timeout, disposerID = this.genUID()) {\n    const ticket = window.setInterval(handler, timeout);\n    return this.addDisposer(() => window.clearInterval(ticket), disposerID);\n  }\n  remove(disposerID) {\n    const disposer = this.disposers.get(disposerID);\n    this.disposers.delete(disposerID);\n    return disposer;\n  }\n  flush(disposerID) {\n    const disposer = this.remove(disposerID);\n    if (disposer) {\n      disposer();\n    }\n  }\n  flushAll() {\n    this.disposers.forEach(invoke);\n    this.disposers.clear();\n  }\n  genUID() {\n    let uid;\n    do {\n      uid = genUID();\n    } while (this.disposers.has(uid));\n    return uid;\n  }\n}\nfunction joinDisposers(disposers) {\n  return () => disposers.forEach(invoke);\n}\nclass AsyncSideEffectManager {\n  constructor() {\n    this.push = this.addDisposer;\n    this.finished = Promise.resolve();\n    this.disposers = new Map();\n    this._nextTask = new Map();\n    this._isRunning = new Set();\n  }\n  add(executor, disposerID = this.genUID()) {\n    if (this._isRunning.has(disposerID)) {\n      this._nextTask.set(disposerID, () => this._add(executor, disposerID));\n    } else {\n      this._add(executor, disposerID);\n    }\n    return disposerID;\n  }\n  async _add(executor, disposerID) {\n    this._startTask(disposerID);\n    const disposer = this.remove(disposerID);\n    if (disposer) {\n      try {\n        await disposer();\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    try {\n      const disposers = await executor();\n      if (disposers) {\n        this.disposers.set(disposerID, Array.isArray(disposers) ? joinAsyncDisposers(disposers) : disposers);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    this._endTask(disposerID);\n    const task = this._nextTask.get(disposerID);\n    if (task) {\n      this._nextTask.delete(disposerID);\n      task();\n    }\n  }\n  addDisposer(disposer, disposerID = this.genUID()) {\n    return this.add(() => disposer, disposerID);\n  }\n  remove(disposerID) {\n    const disposer = this.disposers.get(disposerID);\n    this.disposers.delete(disposerID);\n    return disposer;\n  }\n  flush(disposerID) {\n    if (this._isRunning.has(disposerID)) {\n      this._nextTask.set(disposerID, () => this._flush(disposerID));\n    } else {\n      this._flush(disposerID);\n    }\n  }\n  async _flush(disposerID) {\n    const disposer = this.remove(disposerID);\n    if (disposer) {\n      this._startTask(disposerID);\n      try {\n        await disposer();\n      } catch (e) {\n        console.error(e);\n      }\n      this._endTask(disposerID);\n    }\n    const task = this._nextTask.get(disposerID);\n    if (task) {\n      this._nextTask.delete(disposerID);\n      task();\n    }\n  }\n  flushAll() {\n    this.disposers.forEach((_, disposerID) => this.flush(disposerID));\n  }\n  genUID() {\n    let uid;\n    do {\n      uid = genUID();\n    } while (this.disposers.has(uid));\n    return uid;\n  }\n  _startTask(disposerID) {\n    this._isRunning.add(disposerID);\n    if (!this._resolveFinished) {\n      this.finished = new Promise((resolve) => {\n        this._resolveFinished = resolve;\n      });\n    }\n  }\n  _endTask(disposerID) {\n    this._isRunning.delete(disposerID);\n    if (this._resolveFinished && this._isRunning.size <= 0 && this._nextTask.size <= 0) {\n      this._resolveFinished();\n      this._resolveFinished = void 0;\n    }\n  }\n}\nfunction joinAsyncDisposers(disposers) {\n  return () => Promise.all(disposers.map(invoke));\n}\nclass Disposable {\n  constructor() {\n    this.push = this.addDisposer;\n    this.disposers = new Set();\n  }\n  addDisposer(disposers) {\n    if (Array.isArray(disposers)) {\n      disposers.forEach((disposer) => {\n        this.disposers.add(disposer);\n      });\n    } else {\n      this.disposers.add(disposers);\n    }\n  }\n  add(executor) {\n    const disposers = executor();\n    if (disposers) {\n      this.push(disposers);\n    }\n  }\n  addEventListener(el, type, listener, options) {\n    el.addEventListener(type, listener, options);\n    const disposer = () => el.removeEventListener(type, listener, options);\n    this.push(disposer);\n    return disposer;\n  }\n  setTimeout(handler, timeout) {\n    const ticket = window.setTimeout(() => {\n      this.remove(disposer);\n      handler();\n    }, timeout);\n    const disposer = () => window.clearTimeout(ticket);\n    this.push(disposer);\n    return disposer;\n  }\n  setInterval(handler, timeout) {\n    const ticket = setInterval(handler, timeout);\n    const disposer = () => clearInterval(ticket);\n    this.push(disposer);\n    return disposer;\n  }\n  remove(disposer) {\n    this.disposers.delete(disposer);\n  }\n  flush(disposer) {\n    this.remove(disposer);\n    disposer();\n  }\n  flushAll() {\n    this.disposers.forEach(invoke);\n    this.disposers.clear();\n  }\n}\nexport { AsyncSideEffectManager, Disposable, SideEffectManager, genUID, joinAsyncDisposers, joinDisposers };\n//# sourceMappingURL=side-effect-manager.es.js.map\n","// randomColor by David Merfield under the CC0 license\n// https://github.com/davidmerfield/randomColor/\n\n;(function(root, factory) {\n\n  // Support CommonJS\n  if (typeof exports === 'object') {\n    var randomColor = factory();\n\n    // Support NodeJS & Component, which allow module.exports to be a function\n    if (typeof module === 'object' && module && module.exports) {\n      exports = module.exports = randomColor;\n    }\n\n    // Support CommonJS 1.1.1 spec\n    exports.randomColor = randomColor;\n\n  // Support AMD\n  } else if (typeof define === 'function' && define.amd) {\n    define([], factory);\n\n  // Support vanilla script loading\n  } else {\n    root.randomColor = factory();\n  }\n\n}(this, function() {\n\n  // Seed to get repeatable colors\n  var seed = null;\n\n  // Shared color dictionary\n  var colorDictionary = {};\n\n  // Populate the color dictionary\n  loadColorBounds();\n\n  // check if a range is taken\n  var colorRanges = [];\n\n  var randomColor = function (options) {\n\n    options = options || {};\n\n    // Check if there is a seed and ensure it's an\n    // integer. Otherwise, reset the seed value.\n    if (options.seed !== undefined && options.seed !== null && options.seed === parseInt(options.seed, 10)) {\n      seed = options.seed;\n\n    // A string was passed as a seed\n    } else if (typeof options.seed === 'string') {\n      seed = stringToInteger(options.seed);\n\n    // Something was passed as a seed but it wasn't an integer or string\n    } else if (options.seed !== undefined && options.seed !== null) {\n      throw new TypeError('The seed value must be an integer or string');\n\n    // No seed, reset the value outside.\n    } else {\n      seed = null;\n    }\n\n    var H,S,B;\n\n    // Check if we need to generate multiple colors\n    if (options.count !== null && options.count !== undefined) {\n\n      var totalColors = options.count,\n          colors = [];\n      // Value false at index i means the range i is not taken yet.\n      for (var i = 0; i < options.count; i++) {\n        colorRanges.push(false)\n        }\n      options.count = null;\n\n      while (totalColors > colors.length) {\n\n        var color = randomColor(options);\n\n        if (seed !== null) {\n          options.seed = seed;\n        }\n\n        colors.push(color);\n      }\n\n      options.count = totalColors;\n\n      return colors;\n    }\n\n    // First we pick a hue (H)\n    H = pickHue(options);\n\n    // Then use H to determine saturation (S)\n    S = pickSaturation(H, options);\n\n    // Then use S and H to determine brightness (B).\n    B = pickBrightness(H, S, options);\n\n    // Then we return the HSB color in the desired format\n    return setFormat([H,S,B], options);\n  };\n\n  function pickHue(options) {\n    if (colorRanges.length > 0) {\n      var hueRange = getRealHueRange(options.hue)\n\n      var hue = randomWithin(hueRange)\n\n      //Each of colorRanges.length ranges has a length equal approximatelly one step\n      var step = (hueRange[1] - hueRange[0]) / colorRanges.length\n\n      var j = parseInt((hue - hueRange[0]) / step)\n\n      //Check if the range j is taken\n      if (colorRanges[j] === true) {\n        j = (j + 2) % colorRanges.length\n      }\n      else {\n        colorRanges[j] = true\n           }\n\n      var min = (hueRange[0] + j * step) % 359,\n          max = (hueRange[0] + (j + 1) * step) % 359;\n\n      hueRange = [min, max]\n\n      hue = randomWithin(hueRange)\n\n      if (hue < 0) {hue = 360 + hue;}\n      return hue\n    }\n    else {\n      var hueRange = getHueRange(options.hue)\n\n      hue = randomWithin(hueRange);\n      // Instead of storing red as two seperate ranges,\n      // we group them, using negative numbers\n      if (hue < 0) {\n        hue = 360 + hue;\n      }\n\n      return hue;\n    }\n  }\n\n  function pickSaturation (hue, options) {\n\n    if (options.hue === 'monochrome') {\n      return 0;\n    }\n\n    if (options.luminosity === 'random') {\n      return randomWithin([0,100]);\n    }\n\n    var saturationRange = getSaturationRange(hue);\n\n    var sMin = saturationRange[0],\n        sMax = saturationRange[1];\n\n    switch (options.luminosity) {\n\n      case 'bright':\n        sMin = 55;\n        break;\n\n      case 'dark':\n        sMin = sMax - 10;\n        break;\n\n      case 'light':\n        sMax = 55;\n        break;\n   }\n\n    return randomWithin([sMin, sMax]);\n\n  }\n\n  function pickBrightness (H, S, options) {\n\n    var bMin = getMinimumBrightness(H, S),\n        bMax = 100;\n\n    switch (options.luminosity) {\n\n      case 'dark':\n        bMax = bMin + 20;\n        break;\n\n      case 'light':\n        bMin = (bMax + bMin)/2;\n        break;\n\n      case 'random':\n        bMin = 0;\n        bMax = 100;\n        break;\n    }\n\n    return randomWithin([bMin, bMax]);\n  }\n\n  function setFormat (hsv, options) {\n\n    switch (options.format) {\n\n      case 'hsvArray':\n        return hsv;\n\n      case 'hslArray':\n        return HSVtoHSL(hsv);\n\n      case 'hsl':\n        var hsl = HSVtoHSL(hsv);\n        return 'hsl('+hsl[0]+', '+hsl[1]+'%, '+hsl[2]+'%)';\n\n      case 'hsla':\n        var hslColor = HSVtoHSL(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'hsla('+hslColor[0]+', '+hslColor[1]+'%, '+hslColor[2]+'%, ' + alpha + ')';\n\n      case 'rgbArray':\n        return HSVtoRGB(hsv);\n\n      case 'rgb':\n        var rgb = HSVtoRGB(hsv);\n        return 'rgb(' + rgb.join(', ') + ')';\n\n      case 'rgba':\n        var rgbColor = HSVtoRGB(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'rgba(' + rgbColor.join(', ') + ', ' + alpha + ')';\n\n      default:\n        return HSVtoHex(hsv);\n    }\n\n  }\n\n  function getMinimumBrightness(H, S) {\n\n    var lowerBounds = getColorInfo(H).lowerBounds;\n\n    for (var i = 0; i < lowerBounds.length - 1; i++) {\n\n      var s1 = lowerBounds[i][0],\n          v1 = lowerBounds[i][1];\n\n      var s2 = lowerBounds[i+1][0],\n          v2 = lowerBounds[i+1][1];\n\n      if (S >= s1 && S <= s2) {\n\n         var m = (v2 - v1)/(s2 - s1),\n             b = v1 - m*s1;\n\n         return m*S + b;\n      }\n\n    }\n\n    return 0;\n  }\n\n  function getHueRange (colorInput) {\n\n    if (typeof parseInt(colorInput) === 'number') {\n\n      var number = parseInt(colorInput);\n\n      if (number < 360 && number > 0) {\n        return [number, number];\n      }\n\n    }\n\n    if (typeof colorInput === 'string') {\n\n      if (colorDictionary[colorInput]) {\n        var color = colorDictionary[colorInput];\n        if (color.hueRange) {return color.hueRange;}\n      } else if (colorInput.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorInput)[0];\n        return [ hue, hue ];\n      }\n    }\n\n    return [0,360];\n\n  }\n\n  function getSaturationRange (hue) {\n    return getColorInfo(hue).saturationRange;\n  }\n\n  function getColorInfo (hue) {\n\n    // Maps red colors to make picking hue easier\n    if (hue >= 334 && hue <= 360) {\n      hue-= 360;\n    }\n\n    for (var colorName in colorDictionary) {\n       var color = colorDictionary[colorName];\n       if (color.hueRange &&\n           hue >= color.hueRange[0] &&\n           hue <= color.hueRange[1]) {\n          return colorDictionary[colorName];\n       }\n    } return 'Color not found';\n  }\n\n  function randomWithin (range) {\n    if (seed === null) {\n      //generate random evenly destinct number from : https://martin.ankerl.com/2009/12/09/how-to-create-random-colors-programmatically/\n      var golden_ratio = 0.618033988749895\n      var r=Math.random()\n      r += golden_ratio\n      r %= 1\n      return Math.floor(range[0] + r*(range[1] + 1 - range[0]));\n    } else {\n      //Seeded random algorithm from http://indiegamr.com/generate-repeatable-random-numbers-in-js/\n      var max = range[1] || 1;\n      var min = range[0] || 0;\n      seed = (seed * 9301 + 49297) % 233280;\n      var rnd = seed / 233280.0;\n      return Math.floor(min + rnd * (max - min));\n}\n  }\n\n  function HSVtoHex (hsv){\n\n    var rgb = HSVtoRGB(hsv);\n\n    function componentToHex(c) {\n        var hex = c.toString(16);\n        return hex.length == 1 ? '0' + hex : hex;\n    }\n\n    var hex = '#' + componentToHex(rgb[0]) + componentToHex(rgb[1]) + componentToHex(rgb[2]);\n\n    return hex;\n\n  }\n\n  function defineColor (name, hueRange, lowerBounds) {\n\n    var sMin = lowerBounds[0][0],\n        sMax = lowerBounds[lowerBounds.length - 1][0],\n\n        bMin = lowerBounds[lowerBounds.length - 1][1],\n        bMax = lowerBounds[0][1];\n\n    colorDictionary[name] = {\n      hueRange: hueRange,\n      lowerBounds: lowerBounds,\n      saturationRange: [sMin, sMax],\n      brightnessRange: [bMin, bMax]\n    };\n\n  }\n\n  function loadColorBounds () {\n\n    defineColor(\n      'monochrome',\n      null,\n      [[0,0],[100,0]]\n    );\n\n    defineColor(\n      'red',\n      [-26,18],\n      [[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]\n    );\n\n    defineColor(\n      'orange',\n      [18,46],\n      [[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]\n    );\n\n    defineColor(\n      'yellow',\n      [46,62],\n      [[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]\n    );\n\n    defineColor(\n      'green',\n      [62,178],\n      [[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]\n    );\n\n    defineColor(\n      'blue',\n      [178, 257],\n      [[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]\n    );\n\n    defineColor(\n      'purple',\n      [257, 282],\n      [[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]\n    );\n\n    defineColor(\n      'pink',\n      [282, 334],\n      [[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]\n    );\n\n  }\n\n  function HSVtoRGB (hsv) {\n\n    // this doesn't work for the values of 0 and 360\n    // here's the hacky fix\n    var h = hsv[0];\n    if (h === 0) {h = 1;}\n    if (h === 360) {h = 359;}\n\n    // Rebase the h,s,v values\n    h = h/360;\n    var s = hsv[1]/100,\n        v = hsv[2]/100;\n\n    var h_i = Math.floor(h*6),\n      f = h * 6 - h_i,\n      p = v * (1 - s),\n      q = v * (1 - f*s),\n      t = v * (1 - (1 - f)*s),\n      r = 256,\n      g = 256,\n      b = 256;\n\n    switch(h_i) {\n      case 0: r = v; g = t; b = p;  break;\n      case 1: r = q; g = v; b = p;  break;\n      case 2: r = p; g = v; b = t;  break;\n      case 3: r = p; g = q; b = v;  break;\n      case 4: r = t; g = p; b = v;  break;\n      case 5: r = v; g = p; b = q;  break;\n    }\n\n    var result = [Math.floor(r*255), Math.floor(g*255), Math.floor(b*255)];\n    return result;\n  }\n\n  function HexToHSB (hex) {\n    hex = hex.replace(/^#/, '');\n    hex = hex.length === 3 ? hex.replace(/(.)/g, '$1$1') : hex;\n\n    var red = parseInt(hex.substr(0, 2), 16) / 255,\n          green = parseInt(hex.substr(2, 2), 16) / 255,\n          blue = parseInt(hex.substr(4, 2), 16) / 255;\n\n    var cMax = Math.max(red, green, blue),\n          delta = cMax - Math.min(red, green, blue),\n          saturation = cMax ? (delta / cMax) : 0;\n\n    switch (cMax) {\n      case red: return [ 60 * (((green - blue) / delta) % 6) || 0, saturation, cMax ];\n      case green: return [ 60 * (((blue - red) / delta) + 2) || 0, saturation, cMax ];\n      case blue: return [ 60 * (((red - green) / delta) + 4) || 0, saturation, cMax ];\n    }\n  }\n\n  function HSVtoHSL (hsv) {\n    var h = hsv[0],\n      s = hsv[1]/100,\n      v = hsv[2]/100,\n      k = (2-s)*v;\n\n    return [\n      h,\n      Math.round(s*v / (k<1 ? k : 2-k) * 10000) / 100,\n      k/2 * 100\n    ];\n  }\n\n  function stringToInteger (string) {\n    var total = 0\n    for (var i = 0; i !== string.length; i++) {\n      if (total >= Number.MAX_SAFE_INTEGER) break;\n      total += string.charCodeAt(i)\n    }\n    return total\n  }\n\n  // get The range of given hue when options.count!=0\n  function getRealHueRange(colorHue)\n  { if (!isNaN(colorHue)) {\n    var number = parseInt(colorHue);\n\n    if (number < 360 && number > 0) {\n      return getColorInfo(colorHue).hueRange\n    }\n  }\n    else if (typeof colorHue === 'string') {\n\n      if (colorDictionary[colorHue]) {\n        var color = colorDictionary[colorHue];\n\n        if (color.hueRange) {\n          return color.hueRange\n       }\n    } else if (colorHue.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorHue)[0]\n        return getColorInfo(hue).hueRange\n    }\n  }\n\n    return [0,360]\n}\n  return randomColor;\n}));\n","import randomColor from \"randomcolor\";\n\nexport type LoggerDebugLevel = boolean | \"log\" | \"warn\" | \"error\";\n\nexport class Logger {\n  private color = randomColor({ luminosity: \"dark\" });\n\n  public constructor(\n    public kind = \"NetlessApp\",\n    public debug: LoggerDebugLevel = import.meta.env.DEV || \"error\"\n  ) {}\n\n  public log(...messages: unknown[]): void {\n    if (this.debug === true || this.debug === \"log\") {\n      return this._log(\"log\", messages);\n    }\n  }\n\n  public warn(...messages: unknown[]): void {\n    if (this.debug && this.debug !== \"error\") {\n      return this._log(\"warn\", messages);\n    }\n  }\n\n  public error(...messages: unknown[]): void {\n    if (this.debug) {\n      return this._log(\"error\", messages);\n    }\n  }\n\n  private _log(type: \"log\" | \"warn\" | \"error\", messages: unknown[]): void {\n    console[type](`%c[${this.kind}]:`, `color: ${this.color}; font-weight: bold;`, ...messages);\n  }\n}\n","import type { AppContext } from \"@netless/window-manager\";\n\nexport interface UserPayload {\n  memberId: number;\n  uid: string;\n  userId: string;\n  nickName: string;\n  cursorName: string;\n}\n\nexport function getUserPayload(context: AppContext): UserPayload {\n  const room = context.getRoom();\n  const displayer = context.getDisplayer();\n  const memberId = displayer.observerId;\n  const userPayload = displayer.state.roomMembers.find(\n    member => member.memberId === memberId\n  )?.payload;\n  const uid = userPayload?.uid || room?.uid || \"\";\n  const nickName = userPayload?.nickName || uid;\n  const userId = userPayload?.userId || uid;\n  const cursorName = userPayload?.cursorName || nickName || \"\";\n  return { memberId, uid, userId, nickName, cursorName };\n}\n\n// from @polka/url (https://github.com/lukeed/polka, MIT license)\nexport function parse(url: string) {\n  const index = url.indexOf(\"?\", 1);\n  if (index !== -1) {\n    return {\n      search: url.slice(index),\n      pathname: url.slice(0, index),\n    };\n  }\n  return {\n    search: \"\",\n    pathname: url,\n  };\n}\n\nexport function appendQuery(url: string, query: string) {\n  const { pathname, search } = parse(url);\n  return pathname + (search ? `${search}&` : \"?\") + query;\n}\n\nexport function element<T extends keyof HTMLElementTagNameMap>(tag: T) {\n  return document.createElement(tag);\n}\n\nexport function attr(el: HTMLElement, key: string, value: string | null) {\n  if (value == null) {\n    el.removeAttribute(key);\n  } else {\n    el.setAttribute(key, value);\n  }\n}\n\nexport function append(el: HTMLElement, node: HTMLElement) {\n  return el.appendChild(node);\n}\n\nexport function detach(el: HTMLElement) {\n  return el.parentNode?.removeChild(el);\n}\n\nexport function noop() {\n  // noop\n}\n\nexport const nextTick = /* @__PURE__ */ Promise.resolve();\n\nexport function writable<T>(value: T) {\n  const listeners: Array<(value: T) => void> = [];\n\n  return {\n    get value() {\n      return value;\n    },\n    set(newValue: T) {\n      value = newValue;\n      listeners.forEach(listener => listener(value));\n    },\n    subscribe(listener: (value: T) => void) {\n      listeners.push(listener);\n      nextTick.then(() => listener(value));\n      return () => {\n        listeners.splice(listeners.indexOf(listener), 1);\n      };\n    },\n  };\n}\n","var resizeObservers = [];\nexport { resizeObservers };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","export var freeze = function (obj) { return Object.freeze(obj); };\n","import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n","import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","import type { AppContext, ReadonlyTeleBox } from \"@netless/window-manager\";\nimport { SideEffectManager } from \"side-effect-manager\";\nimport { ResizeObserver as Polyfill } from \"@juggle/resize-observer\";\nimport { append, attr, detach, element, writable } from \"./utils\";\nimport styles from \"./style.css?inline\";\n\nconst ResizeObserver = window.ResizeObserver || Polyfill;\n\nexport class Renderer {\n  readonly sideEffect = new SideEffectManager();\n  readonly box: ReadonlyTeleBox;\n  readonly role = writable<0 | 2>(2);\n  readonly ratio = writable(16 / 9);\n  readonly $content = element(\"div\");\n  readonly $iframe = element(\"iframe\");\n\n  constructor(public readonly context: AppContext) {\n    this.box = context.getBox();\n    attr(this.$content, \"class\", \"app-talkative-container\");\n    append(this.$content, this.$iframe);\n    this.$content.dataset.appKind = \"Talkative\";\n  }\n\n  private _on_update_role(role: 0 | 2) {\n    this.$content.dataset.role = String(role);\n    this.$content.classList.toggle(\"owner\", role === 0);\n  }\n\n  private _on_update_ratio(ratio: number, entry?: ResizeObserverEntry) {\n    const { width, height } = entry ? entry.contentRect : this.$content.getBoundingClientRect();\n    if (width / ratio > height) {\n      const targetWidth = height * ratio;\n      this.$iframe.style.width = `${targetWidth}px`;\n      this.$iframe.style.height = \"\";\n    } else if (width / ratio < height) {\n      const targetHeight = width / ratio;\n      this.$iframe.style.width = \"\";\n      this.$iframe.style.height = `${targetHeight}px`;\n    }\n  }\n\n  private _observe_content_resize() {\n    const observer = new ResizeObserver(entries => {\n      this._on_update_ratio(this.ratio.value, entries[0]);\n    });\n    observer.observe(this.$content);\n    return observer.disconnect.bind(observer);\n  }\n\n  mount() {\n    this.box.mountStyles(styles);\n    this.box.mountContent(this.$content);\n\n    this.sideEffect.addDisposer(this.role.subscribe(this._on_update_role.bind(this)));\n    this.sideEffect.addDisposer(this.ratio.subscribe(this._on_update_ratio.bind(this)));\n    this.sideEffect.addDisposer(this._observe_content_resize());\n\n    return this.destroy.bind(this);\n  }\n\n  destroy() {\n    this.sideEffect.flushAll();\n\n    detach(this.$content);\n  }\n\n  postMessage(message: unknown) {\n    console.log(message);\n    this.$iframe.contentWindow?.postMessage(message, \"*\");\n  }\n}\n","export function arrowLeftSVG(namespace: string): SVGElement {\n  const NS = \"http://www.w3.org/2000/svg\";\n\n  const $svg = document.createElementNS(NS, \"svg\");\n  $svg.setAttribute(\"class\", `${namespace}-footer-icon-arrow-left`);\n  $svg.setAttribute(\"viewBox\", \"0 0 20 20\");\n\n  $svg.innerHTML = `<g clip-path=\"url(#clip0_11800_99864)\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.5283 4.86182L12.4711 5.80463L8.22849 10.0473L12.4711 14.2899L11.5283 15.2327L6.34287 10.0473L11.5283 4.86182Z\" class=\"arrow\" />\n</g>\n<defs>\n<clipPath id=\"clip0_11800_99864\">\n<rect width=\"16\" height=\"16\" fill=\"white\" transform=\"translate(2 2)\"/>\n</clipPath>\n</defs>`;\n\n  return $svg;\n}\n","export function arrowRightSVG(namespace: string): SVGElement {\n  const NS = \"http://www.w3.org/2000/svg\";\n\n  const $svg = document.createElementNS(NS, \"svg\");\n  $svg.setAttribute(\"class\", `${namespace}-footer-icon-arrow-right`);\n  $svg.setAttribute(\"viewBox\", \"0 0 20 20\");\n\n  $svg.innerHTML = `<g clip-path=\"url(#clip0_11800_99870)\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.1377 4.86182L7.19489 5.80463L11.4375 10.0473L7.19489 14.2899L8.1377 15.2327L13.3231 10.0473L8.1377 4.86182Z\" class=\"arrow\" />\n</g>\n<defs>\n<clipPath id=\"clip0_11800_99870\">\n<rect width=\"16\" height=\"16\" fill=\"white\" transform=\"translate(2 2)\"/>\n</clipPath>\n</defs>`;\n\n  return $svg;\n}\n","import type { AppContext, ReadonlyTeleBox } from \"@netless/window-manager\";\nimport { SideEffectManager } from \"side-effect-manager\";\nimport { append, attr, detach, element, writable } from \"./utils\";\nimport { arrowLeftSVG } from \"./icons/arrow-left\";\nimport { arrowRightSVG } from \"./icons/arrow-right\";\n\nexport class Footer {\n  readonly sideEffect = new SideEffectManager();\n  readonly box: ReadonlyTeleBox;\n  readonly role = writable<0 | 2>(2);\n  readonly text = writable(\"...\");\n  readonly $footer = element(\"div\");\n  readonly $btnLeft = element(\"button\");\n  readonly $btnRight = element(\"button\");\n  readonly $span = element(\"span\");\n\n  constructor(\n    readonly context: AppContext,\n    readonly onPrev: () => void,\n    readonly onNext: () => void\n  ) {\n    this.box = context.getBox();\n    append(this.$footer, this.$btnLeft);\n    append(this.$footer, this.$span);\n    append(this.$footer, this.$btnRight);\n    attr(this.$footer, \"class\", \"app-talkative-footer\");\n    attr(this.$btnLeft, \"class\", \"app-talkative-btn app-talkative-btn-left\");\n    attr(this.$btnRight, \"class\", \"app-talkative-btn app-talkative-btn-right\");\n    attr(this.$span, \"class\", \"app-talkative-page\");\n    this.$btnLeft.appendChild(arrowLeftSVG(\"app-talkative\"));\n    this.$btnRight.appendChild(arrowRightSVG(\"app-talkative\"));\n    this.$btnLeft.addEventListener(\"click\", this.onPrev);\n    this.$btnRight.addEventListener(\"click\", this.onNext);\n  }\n\n  private _on_update_role(role: 0 | 2) {\n    this.$btnLeft.disabled = role === 2;\n    this.$btnRight.disabled = role === 2;\n    this.$footer.classList.toggle(\"owner\", role === 0);\n  }\n\n  private _on_update_text(text: string) {\n    this.$span.textContent = text;\n  }\n\n  mount() {\n    this.box.mountFooter(this.$footer);\n\n    this.sideEffect.addDisposer(this.role.subscribe(this._on_update_role.bind(this)));\n    this.sideEffect.addDisposer(this.text.subscribe(this._on_update_text.bind(this)));\n\n    return this.destroy.bind(this);\n  }\n\n  destroy() {\n    this.sideEffect.flushAll();\n\n    detach(this.$footer);\n  }\n}\n","import type { Logger } from \"@netless/app-shared\";\nimport type { AppContext } from \"@netless/window-manager\";\nimport type { TalkativeAttributes, MagixEventPayloads } from \"./index\";\nimport { SideEffectManager } from \"side-effect-manager\";\n\nexport interface ConnectParams {\n  context: AppContext<TalkativeAttributes, MagixEventPayloads>;\n  logger: Logger;\n  postMessage: (message: string) => void;\n  onRatioChanged: (ratio: number) => void;\n  isSentBySelf: (source: MessageEventSource | null) => boolean;\n  onLocalMessage?: (appId: string, event: Record<string, unknown>) => void;\n}\n\nexport function connect({ context, logger, ...callbacks }: ConnectParams): () => void {\n  const sideEffect = new SideEffectManager();\n\n  const handlers = {\n    onPagenum({ totalPages }: { totalPages: number }) {\n      if (context.getIsWritable() && totalPages) {\n        context.storage.setState({ pageNum: totalPages });\n      }\n    },\n\n    onLoadComplete(data: { totalPages?: number; coursewareRatio: number }) {\n      callbacks.onRatioChanged(data.coursewareRatio);\n\n      if (context.getIsWritable() && data.totalPages) {\n        context.storage.setState({ pageNum: data.totalPages });\n      }\n\n      // send last message to sync state\n      const { page, lastMsg } = context.storage.state;\n      lastMsg && callbacks.postMessage(lastMsg);\n\n      // send first page jump message\n      callbacks.postMessage(JSON.stringify({ method: \"onJumpPage\", toPage: page }));\n    },\n    onLocalMessage(event: Record<string, unknown>) {\n      if (context.getIsWritable()) {\n        callbacks?.onLocalMessage && callbacks.onLocalMessage(context.appId, event);\n      }\n    },\n\n    onFileMessage(event: Record<string, unknown>) {\n      if (context.getIsWritable()) {\n        context.dispatchMagixEvent(\"broadcast\", JSON.stringify(event));\n\n        // save last message\n        const lastMsg = JSON.stringify({ ...event, isRestore: true });\n        context.storage.setState({ lastMsg });\n      }\n    },\n  };\n\n  sideEffect.addDisposer(\n    context.addMagixEventListener(\"broadcast\", ({ payload }) => {\n      console.log(payload);\n      callbacks.postMessage(payload);\n    })\n  );\n\n  sideEffect.addEventListener(window, \"message\", ev => {\n    if (!callbacks.isSentBySelf(ev.source)) return;\n    if (typeof ev.data === \"string\") {\n      try {\n        const event = JSON.parse(ev.data);\n        if (typeof event === \"object\" && event !== null) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          const handler = (handlers as any)[event.method];\n          if (handler) {\n            handler(event);\n          } else {\n            logger.warn(\"unknown message\", event);\n          }\n        }\n      } catch (error) {\n        logger.warn(\"error when parsing message\", error);\n      }\n    } else if (typeof ev.data === \"object\" && ev.data !== null) {\n      logger.log(\"unhandled permission command\", ev.data);\n    }\n  });\n\n  return sideEffect.flushAll.bind(sideEffect);\n}\n","export const width = 630;\nexport const height = 350;\n","import type { AnimationMode, NetlessApp } from \"@netless/window-manager\";\nimport { Logger } from \"@netless/app-shared\";\nimport { SideEffectManager } from \"side-effect-manager\";\nimport { appendQuery, getUserPayload, nextTick } from \"./utils\";\nimport { Renderer } from \"./renderer\";\nimport { Footer } from \"./footer\";\nimport { connect } from \"./connect\";\nimport { height } from \"./hardcode\";\n\nexport interface TalkativeAttributes {\n  /** (required) courseware url */\n  src: string;\n  /** teacher's uid */\n  uid: string;\n  /** current page */\n  page: number;\n  pageNum: number;\n  /** sync to new users */\n  lastMsg: string;\n}\n\nexport interface MagixEventPayloads {\n  broadcast: string;\n}\n\nexport interface TalkativeOptions {\n  debug?: boolean;\n  onLocalMessage?: (appId: string, event: Record<string, unknown>) => void;\n}\n\nconst Talkative: NetlessApp<TalkativeAttributes, MagixEventPayloads, TalkativeOptions> = {\n  kind: \"Talkative\",\n  setup(context) {\n    context.storage.ensureState({\n      src: \"https://example.org\",\n      uid: \"\",\n      page: 1,\n      pageNum: 1,\n      lastMsg: \"\",\n    });\n    const ClickThroughAppliances = new Set([\"clicker\"]);\n\n    // const debug = (context.getAppOptions() || {}).debug;\n    const { onLocalMessage, debug } = (context.getAppOptions() || {}) as TalkativeOptions;\n    const logger = new Logger(\"Talkative\", debug);\n    const { uid, userId, nickName, cursorName } = getUserPayload(context);\n    const sideEffect = new SideEffectManager();\n    const view = context.getView();\n    const room = context.getRoom();\n\n    logger.log(\"my uid\", uid);\n\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    let toggleClickThrough: (enable?: boolean) => void = () => {};\n    const shouldClickThrough = (tool: string) => {\n      return ClickThroughAppliances.has(tool);\n    };\n    const setPage = (page: unknown): void => {\n      if (!view) {\n        logger.warn(\"SetPage: page api is only available with 'scenePath' options enabled.\");\n      } else {\n        const scenePath = context.getInitScenePath();\n        if (typeof page === \"string\" && context.getIsWritable() && scenePath && room) {\n          const fullScenePath = [scenePath, page].join(\"/\");\n          if (room.scenePathType(fullScenePath) === \"none\") {\n            room.putScenes(scenePath, [{ name: page }]);\n          }\n          context.setScenePath(fullScenePath);\n          context.updateAttributes([\"page\"], page);\n        }\n      }\n    };\n    const onPrevPage = () => {\n      const { page } = context.storage.state;\n      if (context.getIsWritable() && page > 1) {\n        context.storage.setState({ page: page - 1 });\n      }\n    };\n\n    const onNextPage = () => {\n      const { page, pageNum } = context.storage.state;\n      if (context.getIsWritable() && page < pageNum) {\n        context.storage.setState({ page: page + 1 });\n      }\n    };\n\n    const renderer = new Renderer(context);\n    const footer = new Footer(context, onPrevPage, onNextPage);\n\n    const postMessage = renderer.postMessage.bind(renderer);\n\n    sideEffect.addDisposer(\n      connect({\n        context,\n        logger,\n        postMessage,\n        onRatioChanged: renderer.ratio.set.bind(renderer.ratio),\n        isSentBySelf: source => source === renderer.$iframe.contentWindow,\n        onLocalMessage,\n      })\n    );\n\n    sideEffect.addDisposer(\n      context.storage.addStateChangedListener(() => {\n        // update role\n        const role = context.storage.state.uid === uid ? 0 : 2;\n        renderer.role.set(role);\n        footer.role.set(role);\n        // update page\n        const { page, pageNum } = context.storage.state;\n        postMessage(JSON.stringify({ method: \"onJumpPage\", toPage: page }));\n        footer.text.set(`${page}/${pageNum}`);\n      })\n    );\n\n    if (room) {\n      sideEffect.add(() => {\n        const onRoomStateChanged = (e: { memberState: { currentApplianceName: string } }) => {\n          if (e.memberState) {\n            toggleClickThrough(shouldClickThrough(e.memberState.currentApplianceName));\n          }\n        };\n        room.callbacks.on(\"onRoomStateChanged\", onRoomStateChanged);\n        return () => room.callbacks.off(\"onRoomStateChanged\", onRoomStateChanged);\n      });\n    }\n\n    const on_ready = () => {\n      sideEffect.addDisposer(renderer.mount());\n      sideEffect.addDisposer(footer.mount());\n\n      const role = context.storage.state.uid === uid ? 0 : 2;\n      const query = `userid=${userId}&role=${role}&name=${\n        cursorName?.length > 0 ? cursorName : nickName\n      }`;\n      renderer.$iframe.src = appendQuery(context.storage.state.src, query);\n      renderer.$iframe.src = context.storage.state.src;\n\n      renderer.role.set(role);\n      footer.role.set(role);\n      const { page, pageNum } = context.storage.state;\n      footer.text.set(`${page}/${pageNum}`);\n      setPage(`${page}`);\n      if (view) {\n        //  viewBox\n        const viewBox = document.createElement(\"div\");\n        Object.assign(viewBox.style, {\n          width: \"100%\",\n          height: \"100%\",\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          overflow: \"hidden\",\n        });\n        renderer.$content.appendChild(viewBox);\n        context.mountView(viewBox);\n        view.disableCameraTransform = true;\n        sideEffect.add(() => {\n          const onResize = () => {\n            const clientRect = renderer.$content.getBoundingClientRect();\n            const scale = clientRect.height / height;\n            view.moveCamera({ scale, animationMode: \"immediately\" as AnimationMode });\n          };\n          const observer = new ResizeObserver(onResize);\n          observer.observe(renderer.$content);\n          return () => observer.disconnect();\n        });\n\n        toggleClickThrough = (enable?: boolean) => {\n          viewBox.style.pointerEvents = enable ? \"none\" : \"auto\";\n        };\n\n        if (room?.state.memberState.currentApplianceName) {\n          toggleClickThrough(shouldClickThrough(room?.state.memberState.currentApplianceName));\n        }\n      }\n    };\n\n    // if there's no uid, wait for it to exist\n    if (!context.storage.state.uid) {\n      const disposerID = sideEffect.addDisposer(\n        context.storage.addStateChangedListener(() => {\n          if (context.storage.state.uid) {\n            sideEffect.flush(disposerID);\n            on_ready();\n          }\n        })\n      );\n\n      if (context.isAddApp) {\n        logger.log(\"no teacher's uid, setting myself...\");\n        context.storage.setState({ uid });\n      }\n    } else {\n      nextTick.then(on_ready);\n    }\n\n    context.emitter.on(\"destroy\", () => {\n      logger.log(\"destroy\");\n      sideEffect.flushAll();\n    });\n  },\n};\n\nexport default Talkative;\n"],"names":["this","global","ResizeObserver","Polyfill"],"mappings":"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"}