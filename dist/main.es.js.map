{"version":3,"file":"main.es.js","sources":["../../../node_modules/.pnpm/side-effect-manager@1.2.2/node_modules/side-effect-manager/dist/index.mjs","../../../node_modules/.pnpm/randomcolor@0.6.2/node_modules/randomcolor/randomColor.js","../../../node_modules/.pnpm/@netless+app-shared@0.1.2_side-effect-manager@1.2.2/node_modules/@netless/app-shared/dist/logger.js","../src/utils.ts","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/freeze.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/element.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/global.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/process.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../src/renderer.ts","../src/icons/arrow-left.ts","../src/icons/arrow-right.ts","../src/footer.ts","../src/connect.ts","../src/hardcode.ts","../src/index.ts"],"sourcesContent":["// src/gen-uid.ts\nvar SOUP = \"!#%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\nvar SOUP_LEN = 87;\nvar ID_LEN = 20;\nvar reusedIdCarrier = [];\nvar genUID = () => {\n  for (let i = 0; i < ID_LEN; i++) {\n    reusedIdCarrier[i] = SOUP.charAt(Math.random() * SOUP_LEN);\n  }\n  return reusedIdCarrier.join(\"\");\n};\n\n// src/utils.ts\nfunction invoke(fn) {\n  try {\n    return fn();\n  } catch (e) {\n    console.error(e);\n  }\n}\n\n// src/side-effect-manager.ts\nvar SideEffectManager = class {\n  constructor() {\n    /**\n     * @alias addDisposer\n     * Add a disposer directly.\n     * @param disposer a disposer or a list of disposers\n     * @param disposerID Optional id for the disposer\n     * @returns disposerID\n     */\n    this.push = this.addDisposer;\n    /**\n     * All disposers. Use this only when you know what you are doing.\n     */\n    this.disposers = /* @__PURE__ */ new Map();\n  }\n  /**\n   * Add a disposer directly.\n   * @param disposer a disposer or a list of disposers\n   * @param disposerID Optional id for the disposer\n   * @returns disposerID\n   */\n  addDisposer(disposer, disposerID = this.genUID()) {\n    this.flush(disposerID);\n    this.disposers.set(\n      disposerID,\n      Array.isArray(disposer) ? joinDisposers(disposer) : disposer\n    );\n    return disposerID;\n  }\n  /**\n   * Add a side effect.\n   * @param executor Executes side effect. Return a disposer or a list of disposers. Returns null or false to ignore.\n   * @param disposerID Optional id for the disposer\n   * @returns disposerID\n   */\n  add(executor, disposerID = this.genUID()) {\n    const disposers = executor();\n    return disposers ? this.addDisposer(disposers, disposerID) : disposerID;\n  }\n  addEventListener(el, type, listener, options, disposerID = this.genUID()) {\n    el.addEventListener(type, listener, options);\n    this.addDisposer(\n      () => el.removeEventListener(type, listener, options),\n      disposerID\n    );\n    return disposerID;\n  }\n  /**\n   * Sugar for setTimeout.\n   * @param handler\n   * @param timeout\n   * @param disposerID Optional id for the disposer\n   * @returns disposerID\n   */\n  setTimeout(handler, timeout, disposerID = this.genUID()) {\n    const ticket = window.setTimeout(() => {\n      this.remove(disposerID);\n      handler();\n    }, timeout);\n    return this.addDisposer(() => window.clearTimeout(ticket), disposerID);\n  }\n  /**\n   * Sugar for setInterval.\n   * @param handler\n   * @param timeout\n   * @param disposerID Optional id for the disposer\n   * @returns disposerID\n   */\n  setInterval(handler, timeout, disposerID = this.genUID()) {\n    const ticket = window.setInterval(handler, timeout);\n    return this.addDisposer(() => window.clearInterval(ticket), disposerID);\n  }\n  /**\n   * Remove but not run the disposer. Do nothing if not found.\n   * @param disposerID\n   */\n  remove(disposerID) {\n    const disposer = this.disposers.get(disposerID);\n    this.disposers.delete(disposerID);\n    return disposer;\n  }\n  /**\n   * Remove and run the disposer. Do nothing if not found.\n   * @param disposerID\n   */\n  flush(disposerID) {\n    const disposer = this.remove(disposerID);\n    if (disposer) {\n      disposer();\n    }\n  }\n  /**\n   * Remove and run all of the disposers.\n   */\n  flushAll() {\n    this.disposers.forEach(invoke);\n    this.disposers.clear();\n  }\n  genUID() {\n    let uid;\n    do {\n      uid = genUID();\n    } while (this.disposers.has(uid));\n    return uid;\n  }\n};\nfunction joinDisposers(disposers) {\n  return () => disposers.forEach(invoke);\n}\n\n// src/async-side-effect-manager.ts\nvar AsyncSideEffectManager = class {\n  constructor() {\n    /**\n     * @alias addDisposer\n     * Add a disposer directly.\n     * @param disposer a disposer\n     * @param disposerID Optional id for the disposer\n     * @returns disposerID\n     */\n    this.push = this.addDisposer;\n    /**\n     * @returns a Promise resolved when current tasks are finished.\n     */\n    this.finished = Promise.resolve();\n    /**\n     * All disposers. Use this only when you know what you are doing.\n     */\n    this.disposers = /* @__PURE__ */ new Map();\n    this._n = /* @__PURE__ */ new Map();\n    this._i = /* @__PURE__ */ new Set();\n  }\n  /**\n   * Add a side effect.\n   * @param executor Execute side effect. Return a disposer or a disposer array. Return null or false to ignore.\n   * @param disposerID Optional id for the disposer\n   * @returns disposerID\n   */\n  add(executor, disposerID = this.genUID()) {\n    if (this._i.has(disposerID)) {\n      this._n.set(disposerID, () => this._a(executor, disposerID));\n    } else {\n      this._a(executor, disposerID);\n    }\n    return disposerID;\n  }\n  async _a(executor, disposerID) {\n    this._s(disposerID);\n    const disposer = this.remove(disposerID);\n    if (disposer) {\n      try {\n        await disposer();\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    try {\n      const disposers = await executor();\n      if (disposers) {\n        this.disposers.set(\n          disposerID,\n          Array.isArray(disposers) ? joinAsyncDisposers(disposers) : disposers\n        );\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    this._e(disposerID);\n    const task = this._n.get(disposerID);\n    if (task) {\n      this._n.delete(disposerID);\n      task();\n    }\n  }\n  /**\n   * Add a disposer directly.\n   * @param disposer a disposer\n   * @param disposerID Optional id for the disposer\n   * @returns disposerID\n   */\n  addDisposer(disposer, disposerID = this.genUID()) {\n    return this.add(() => disposer, disposerID);\n  }\n  /**\n   * Remove but not run the disposer. Do nothing if not found.\n   * @param disposerID\n   */\n  remove(disposerID) {\n    const disposer = this.disposers.get(disposerID);\n    this.disposers.delete(disposerID);\n    return disposer;\n  }\n  /**\n   * Remove and run the disposer. Do nothing if not found.\n   * @param disposerID\n   */\n  flush(disposerID) {\n    if (this._i.has(disposerID)) {\n      this._n.set(disposerID, () => this._f(disposerID));\n    } else {\n      this._f(disposerID);\n    }\n  }\n  async _f(disposerID) {\n    const disposer = this.remove(disposerID);\n    if (disposer) {\n      this._s(disposerID);\n      try {\n        await disposer();\n      } catch (e) {\n        console.error(e);\n      }\n      this._e(disposerID);\n    }\n    const task = this._n.get(disposerID);\n    if (task) {\n      this._n.delete(disposerID);\n      task();\n    }\n  }\n  /**\n   * Remove and run all of the disposers.\n   */\n  flushAll() {\n    this.disposers.forEach((_, disposerID) => this.flush(disposerID));\n  }\n  genUID() {\n    let uid;\n    do {\n      uid = genUID();\n    } while (this.disposers.has(uid));\n    return uid;\n  }\n  _s(disposerID) {\n    this._i.add(disposerID);\n    if (!this._r) {\n      this.finished = new Promise((resolve) => {\n        this._r = resolve;\n      });\n    }\n  }\n  _e(disposerID) {\n    this._i.delete(disposerID);\n    if (this._r && this._i.size <= 0 && this._n.size <= 0) {\n      this._r();\n      this._r = void 0;\n    }\n  }\n};\nfunction joinAsyncDisposers(disposers) {\n  return () => Promise.all(disposers.map(invoke));\n}\n\n// src/disposable.ts\nvar Disposable = class {\n  constructor() {\n    /**\n     * @alias addDisposer\n     * Add a disposer directly.\n     * @param disposer a disposer or a list of disposers\n     */\n    this.push = this.addDisposer;\n    /**\n     * All disposers. Use this only when you know what you are doing.\n     */\n    this.disposers = /* @__PURE__ */ new Set();\n  }\n  /**\n   * Add a disposer directly.\n   * @param disposers a disposer or a list of disposers\n   */\n  addDisposer(disposers) {\n    if (Array.isArray(disposers)) {\n      disposers.forEach((disposer) => {\n        this.disposers.add(disposer);\n      });\n    } else {\n      this.disposers.add(disposers);\n    }\n  }\n  /**\n   * Add a side effect.\n   * @param executor Executes side effect. Return a disposer or a list of disposers. Returns null or false to ignore.\n   */\n  add(executor) {\n    const disposers = executor();\n    if (disposers) {\n      this.push(disposers);\n    }\n  }\n  addEventListener(el, type, listener, options) {\n    el.addEventListener(type, listener, options);\n    const disposer = () => el.removeEventListener(type, listener, options);\n    this.push(disposer);\n    return disposer;\n  }\n  /**\n   * Sugar for setTimeout.\n   * @param handler\n   * @param timeout\n   * @returns ticket\n   */\n  setTimeout(handler, timeout) {\n    const ticket = window.setTimeout(() => {\n      this.remove(disposer);\n      handler();\n    }, timeout);\n    const disposer = () => window.clearTimeout(ticket);\n    this.push(disposer);\n    return disposer;\n  }\n  /**\n   * Sugar for setInterval.\n   * @param handler\n   * @param timeout\n   * @returns ticket\n   */\n  setInterval(handler, timeout) {\n    const ticket = setInterval(handler, timeout);\n    const disposer = () => clearInterval(ticket);\n    this.push(disposer);\n    return disposer;\n  }\n  /**\n   * Remove but not run the disposer. Do nothing if not found.\n   * @param disposer\n   */\n  remove(disposer) {\n    this.disposers.delete(disposer);\n  }\n  /**\n   * Remove and run the disposer. Do nothing if not found.\n   * @param disposer\n   */\n  flush(disposer) {\n    this.remove(disposer);\n    disposer();\n  }\n  /**\n   * Remove and run all of the disposers.\n   */\n  flushAll() {\n    this.disposers.forEach(invoke);\n    this.disposers.clear();\n  }\n};\n\nexport { AsyncSideEffectManager, Disposable, SideEffectManager, genUID, joinAsyncDisposers, joinDisposers };\n","// randomColor by David Merfield under the CC0 license\n// https://github.com/davidmerfield/randomColor/\n\n;(function(root, factory) {\n\n  // Support CommonJS\n  if (typeof exports === 'object') {\n    var randomColor = factory();\n\n    // Support NodeJS & Component, which allow module.exports to be a function\n    if (typeof module === 'object' && module && module.exports) {\n      exports = module.exports = randomColor;\n    }\n\n    // Support CommonJS 1.1.1 spec\n    exports.randomColor = randomColor;\n\n  // Support AMD\n  } else if (typeof define === 'function' && define.amd) {\n    define([], factory);\n\n  // Support vanilla script loading\n  } else {\n    root.randomColor = factory();\n  }\n\n}(this, function() {\n\n  // Seed to get repeatable colors\n  var seed = null;\n\n  // Shared color dictionary\n  var colorDictionary = {};\n\n  // Populate the color dictionary\n  loadColorBounds();\n\n  // check if a range is taken\n  var colorRanges = [];\n\n  var randomColor = function (options) {\n\n    options = options || {};\n\n    // Check if there is a seed and ensure it's an\n    // integer. Otherwise, reset the seed value.\n    if (options.seed !== undefined && options.seed !== null && options.seed === parseInt(options.seed, 10)) {\n      seed = options.seed;\n\n    // A string was passed as a seed\n    } else if (typeof options.seed === 'string') {\n      seed = stringToInteger(options.seed);\n\n    // Something was passed as a seed but it wasn't an integer or string\n    } else if (options.seed !== undefined && options.seed !== null) {\n      throw new TypeError('The seed value must be an integer or string');\n\n    // No seed, reset the value outside.\n    } else {\n      seed = null;\n    }\n\n    var H,S,B;\n\n    // Check if we need to generate multiple colors\n    if (options.count !== null && options.count !== undefined) {\n\n      var totalColors = options.count,\n          colors = [];\n      // Value false at index i means the range i is not taken yet.\n      for (var i = 0; i < options.count; i++) {\n        colorRanges.push(false)\n        }\n      options.count = null;\n\n      while (totalColors > colors.length) {\n\n        var color = randomColor(options);\n\n        if (seed !== null) {\n          options.seed = seed;\n        }\n\n        colors.push(color);\n      }\n\n      options.count = totalColors;\n\n      return colors;\n    }\n\n    // First we pick a hue (H)\n    H = pickHue(options);\n\n    // Then use H to determine saturation (S)\n    S = pickSaturation(H, options);\n\n    // Then use S and H to determine brightness (B).\n    B = pickBrightness(H, S, options);\n\n    // Then we return the HSB color in the desired format\n    return setFormat([H,S,B], options);\n  };\n\n  function pickHue(options) {\n    if (colorRanges.length > 0) {\n      var hueRange = getRealHueRange(options.hue)\n\n      var hue = randomWithin(hueRange)\n\n      //Each of colorRanges.length ranges has a length equal approximatelly one step\n      var step = (hueRange[1] - hueRange[0]) / colorRanges.length\n\n      var j = parseInt((hue - hueRange[0]) / step)\n\n      //Check if the range j is taken\n      if (colorRanges[j] === true) {\n        j = (j + 2) % colorRanges.length\n      }\n      else {\n        colorRanges[j] = true\n           }\n\n      var min = (hueRange[0] + j * step) % 359,\n          max = (hueRange[0] + (j + 1) * step) % 359;\n\n      hueRange = [min, max]\n\n      hue = randomWithin(hueRange)\n\n      if (hue < 0) {hue = 360 + hue;}\n      return hue\n    }\n    else {\n      var hueRange = getHueRange(options.hue)\n\n      hue = randomWithin(hueRange);\n      // Instead of storing red as two seperate ranges,\n      // we group them, using negative numbers\n      if (hue < 0) {\n        hue = 360 + hue;\n      }\n\n      return hue;\n    }\n  }\n\n  function pickSaturation (hue, options) {\n\n    if (options.hue === 'monochrome') {\n      return 0;\n    }\n\n    if (options.luminosity === 'random') {\n      return randomWithin([0,100]);\n    }\n\n    var saturationRange = getSaturationRange(hue);\n\n    var sMin = saturationRange[0],\n        sMax = saturationRange[1];\n\n    switch (options.luminosity) {\n\n      case 'bright':\n        sMin = 55;\n        break;\n\n      case 'dark':\n        sMin = sMax - 10;\n        break;\n\n      case 'light':\n        sMax = 55;\n        break;\n   }\n\n    return randomWithin([sMin, sMax]);\n\n  }\n\n  function pickBrightness (H, S, options) {\n\n    var bMin = getMinimumBrightness(H, S),\n        bMax = 100;\n\n    switch (options.luminosity) {\n\n      case 'dark':\n        bMax = bMin + 20;\n        break;\n\n      case 'light':\n        bMin = (bMax + bMin)/2;\n        break;\n\n      case 'random':\n        bMin = 0;\n        bMax = 100;\n        break;\n    }\n\n    return randomWithin([bMin, bMax]);\n  }\n\n  function setFormat (hsv, options) {\n\n    switch (options.format) {\n\n      case 'hsvArray':\n        return hsv;\n\n      case 'hslArray':\n        return HSVtoHSL(hsv);\n\n      case 'hsl':\n        var hsl = HSVtoHSL(hsv);\n        return 'hsl('+hsl[0]+', '+hsl[1]+'%, '+hsl[2]+'%)';\n\n      case 'hsla':\n        var hslColor = HSVtoHSL(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'hsla('+hslColor[0]+', '+hslColor[1]+'%, '+hslColor[2]+'%, ' + alpha + ')';\n\n      case 'rgbArray':\n        return HSVtoRGB(hsv);\n\n      case 'rgb':\n        var rgb = HSVtoRGB(hsv);\n        return 'rgb(' + rgb.join(', ') + ')';\n\n      case 'rgba':\n        var rgbColor = HSVtoRGB(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'rgba(' + rgbColor.join(', ') + ', ' + alpha + ')';\n\n      default:\n        return HSVtoHex(hsv);\n    }\n\n  }\n\n  function getMinimumBrightness(H, S) {\n\n    var lowerBounds = getColorInfo(H).lowerBounds;\n\n    for (var i = 0; i < lowerBounds.length - 1; i++) {\n\n      var s1 = lowerBounds[i][0],\n          v1 = lowerBounds[i][1];\n\n      var s2 = lowerBounds[i+1][0],\n          v2 = lowerBounds[i+1][1];\n\n      if (S >= s1 && S <= s2) {\n\n         var m = (v2 - v1)/(s2 - s1),\n             b = v1 - m*s1;\n\n         return m*S + b;\n      }\n\n    }\n\n    return 0;\n  }\n\n  function getHueRange (colorInput) {\n\n    if (typeof parseInt(colorInput) === 'number') {\n\n      var number = parseInt(colorInput);\n\n      if (number < 360 && number > 0) {\n        return [number, number];\n      }\n\n    }\n\n    if (typeof colorInput === 'string') {\n\n      if (colorDictionary[colorInput]) {\n        var color = colorDictionary[colorInput];\n        if (color.hueRange) {return color.hueRange;}\n      } else if (colorInput.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorInput)[0];\n        return [ hue, hue ];\n      }\n    }\n\n    return [0,360];\n\n  }\n\n  function getSaturationRange (hue) {\n    return getColorInfo(hue).saturationRange;\n  }\n\n  function getColorInfo (hue) {\n\n    // Maps red colors to make picking hue easier\n    if (hue >= 334 && hue <= 360) {\n      hue-= 360;\n    }\n\n    for (var colorName in colorDictionary) {\n       var color = colorDictionary[colorName];\n       if (color.hueRange &&\n           hue >= color.hueRange[0] &&\n           hue <= color.hueRange[1]) {\n          return colorDictionary[colorName];\n       }\n    } return 'Color not found';\n  }\n\n  function randomWithin (range) {\n    if (seed === null) {\n      //generate random evenly destinct number from : https://martin.ankerl.com/2009/12/09/how-to-create-random-colors-programmatically/\n      var golden_ratio = 0.618033988749895\n      var r=Math.random()\n      r += golden_ratio\n      r %= 1\n      return Math.floor(range[0] + r*(range[1] + 1 - range[0]));\n    } else {\n      //Seeded random algorithm from http://indiegamr.com/generate-repeatable-random-numbers-in-js/\n      var max = range[1] || 1;\n      var min = range[0] || 0;\n      seed = (seed * 9301 + 49297) % 233280;\n      var rnd = seed / 233280.0;\n      return Math.floor(min + rnd * (max - min));\n}\n  }\n\n  function HSVtoHex (hsv){\n\n    var rgb = HSVtoRGB(hsv);\n\n    function componentToHex(c) {\n        var hex = c.toString(16);\n        return hex.length == 1 ? '0' + hex : hex;\n    }\n\n    var hex = '#' + componentToHex(rgb[0]) + componentToHex(rgb[1]) + componentToHex(rgb[2]);\n\n    return hex;\n\n  }\n\n  function defineColor (name, hueRange, lowerBounds) {\n\n    var sMin = lowerBounds[0][0],\n        sMax = lowerBounds[lowerBounds.length - 1][0],\n\n        bMin = lowerBounds[lowerBounds.length - 1][1],\n        bMax = lowerBounds[0][1];\n\n    colorDictionary[name] = {\n      hueRange: hueRange,\n      lowerBounds: lowerBounds,\n      saturationRange: [sMin, sMax],\n      brightnessRange: [bMin, bMax]\n    };\n\n  }\n\n  function loadColorBounds () {\n\n    defineColor(\n      'monochrome',\n      null,\n      [[0,0],[100,0]]\n    );\n\n    defineColor(\n      'red',\n      [-26,18],\n      [[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]\n    );\n\n    defineColor(\n      'orange',\n      [18,46],\n      [[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]\n    );\n\n    defineColor(\n      'yellow',\n      [46,62],\n      [[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]\n    );\n\n    defineColor(\n      'green',\n      [62,178],\n      [[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]\n    );\n\n    defineColor(\n      'blue',\n      [178, 257],\n      [[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]\n    );\n\n    defineColor(\n      'purple',\n      [257, 282],\n      [[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]\n    );\n\n    defineColor(\n      'pink',\n      [282, 334],\n      [[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]\n    );\n\n  }\n\n  function HSVtoRGB (hsv) {\n\n    // this doesn't work for the values of 0 and 360\n    // here's the hacky fix\n    var h = hsv[0];\n    if (h === 0) {h = 1;}\n    if (h === 360) {h = 359;}\n\n    // Rebase the h,s,v values\n    h = h/360;\n    var s = hsv[1]/100,\n        v = hsv[2]/100;\n\n    var h_i = Math.floor(h*6),\n      f = h * 6 - h_i,\n      p = v * (1 - s),\n      q = v * (1 - f*s),\n      t = v * (1 - (1 - f)*s),\n      r = 256,\n      g = 256,\n      b = 256;\n\n    switch(h_i) {\n      case 0: r = v; g = t; b = p;  break;\n      case 1: r = q; g = v; b = p;  break;\n      case 2: r = p; g = v; b = t;  break;\n      case 3: r = p; g = q; b = v;  break;\n      case 4: r = t; g = p; b = v;  break;\n      case 5: r = v; g = p; b = q;  break;\n    }\n\n    var result = [Math.floor(r*255), Math.floor(g*255), Math.floor(b*255)];\n    return result;\n  }\n\n  function HexToHSB (hex) {\n    hex = hex.replace(/^#/, '');\n    hex = hex.length === 3 ? hex.replace(/(.)/g, '$1$1') : hex;\n\n    var red = parseInt(hex.substr(0, 2), 16) / 255,\n          green = parseInt(hex.substr(2, 2), 16) / 255,\n          blue = parseInt(hex.substr(4, 2), 16) / 255;\n\n    var cMax = Math.max(red, green, blue),\n          delta = cMax - Math.min(red, green, blue),\n          saturation = cMax ? (delta / cMax) : 0;\n\n    switch (cMax) {\n      case red: return [ 60 * (((green - blue) / delta) % 6) || 0, saturation, cMax ];\n      case green: return [ 60 * (((blue - red) / delta) + 2) || 0, saturation, cMax ];\n      case blue: return [ 60 * (((red - green) / delta) + 4) || 0, saturation, cMax ];\n    }\n  }\n\n  function HSVtoHSL (hsv) {\n    var h = hsv[0],\n      s = hsv[1]/100,\n      v = hsv[2]/100,\n      k = (2-s)*v;\n\n    return [\n      h,\n      Math.round(s*v / (k<1 ? k : 2-k) * 10000) / 100,\n      k/2 * 100\n    ];\n  }\n\n  function stringToInteger (string) {\n    var total = 0\n    for (var i = 0; i !== string.length; i++) {\n      if (total >= Number.MAX_SAFE_INTEGER) break;\n      total += string.charCodeAt(i)\n    }\n    return total\n  }\n\n  // get The range of given hue when options.count!=0\n  function getRealHueRange(colorHue)\n  { if (!isNaN(colorHue)) {\n    var number = parseInt(colorHue);\n\n    if (number < 360 && number > 0) {\n      return getColorInfo(colorHue).hueRange\n    }\n  }\n    else if (typeof colorHue === 'string') {\n\n      if (colorDictionary[colorHue]) {\n        var color = colorDictionary[colorHue];\n\n        if (color.hueRange) {\n          return color.hueRange\n       }\n    } else if (colorHue.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorHue)[0]\n        return getColorInfo(hue).hueRange\n    }\n  }\n\n    return [0,360]\n}\n  return randomColor;\n}));\n","import randomColor from \"randomcolor\";\nexport class Logger {\n    kind;\n    debug;\n    color = randomColor({ luminosity: \"dark\" });\n    constructor(kind = \"NetlessApp\", debug = import.meta.env.DEV || \"error\") {\n        this.kind = kind;\n        this.debug = debug;\n    }\n    log(...messages) {\n        if (this.debug === true || this.debug === \"log\") {\n            return this._log(\"log\", messages);\n        }\n    }\n    warn(...messages) {\n        if (this.debug && this.debug !== \"error\") {\n            return this._log(\"warn\", messages);\n        }\n    }\n    error(...messages) {\n        if (this.debug) {\n            return this._log(\"error\", messages);\n        }\n    }\n    _log(type, messages) {\n        console[type](`%c[${this.kind}]:`, `color: ${this.color}; font-weight: bold;`, ...messages);\n    }\n}\n//# sourceMappingURL=logger.js.map","import type { AppContext } from \"@netless/window-manager\";\n\nexport interface UserPayload {\n  memberId: number;\n  uid: string;\n  userId: string;\n  nickName: string;\n  cursorName: string;\n}\n\nexport function getUserPayload(context: AppContext): UserPayload {\n  const room = context.getRoom();\n  const displayer = context.getDisplayer();\n  const memberId = displayer.observerId;\n  const userPayload = displayer.state.roomMembers.find(\n    member => member.memberId === memberId\n  )?.payload;\n  const uid = userPayload?.uid || room?.uid || \"\";\n  const nickName = userPayload?.nickName || uid;\n  const userId = userPayload?.userId || uid;\n  const cursorName = userPayload?.cursorName || nickName || \"\";\n  return { memberId, uid, userId, nickName, cursorName };\n}\n\n// from @polka/url (https://github.com/lukeed/polka, MIT license)\nexport function parse(url: string) {\n  const index = url.indexOf(\"?\", 1);\n  if (index !== -1) {\n    return {\n      search: url.slice(index),\n      pathname: url.slice(0, index),\n    };\n  }\n  return {\n    search: \"\",\n    pathname: url,\n  };\n}\n\nexport function appendQuery(url: string, query: string) {\n  const { pathname, search } = parse(url);\n  return pathname + (search ? `${search}&` : \"?\") + query;\n}\n\nexport function element<T extends keyof HTMLElementTagNameMap>(tag: T) {\n  return document.createElement(tag);\n}\n\nexport function attr(el: HTMLElement, key: string, value: string | null) {\n  if (value == null) {\n    el.removeAttribute(key);\n  } else {\n    el.setAttribute(key, value);\n  }\n}\n\nexport function append(el: HTMLElement, node: HTMLElement) {\n  return el.appendChild(node);\n}\n\nexport function detach(el: HTMLElement) {\n  return el.parentNode?.removeChild(el);\n}\n\nexport function noop() {\n  // noop\n}\n\nexport const nextTick = /* @__PURE__ */ Promise.resolve();\n\nexport function writable<T>(value: T) {\n  const listeners: Array<(value: T) => void> = [];\n\n  return {\n    get value() {\n      return value;\n    },\n    set(newValue: T) {\n      value = newValue;\n      listeners.forEach(listener => listener(value));\n    },\n    subscribe(listener: (value: T) => void) {\n      listeners.push(listener);\n      nextTick.then(() => listener(value));\n      return () => {\n        listeners.splice(listeners.indexOf(listener), 1);\n      };\n    },\n  };\n}\n","var resizeObservers = [];\nexport { resizeObservers };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","export var freeze = function (obj) { return Object.freeze(obj); };\n","import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n","import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","import type { AppContext, ReadonlyTeleBox } from \"@netless/window-manager\";\nimport { SideEffectManager } from \"side-effect-manager\";\nimport { ResizeObserver as Polyfill } from \"@juggle/resize-observer\";\nimport { append, attr, detach, element, writable } from \"./utils\";\nimport styles from \"./style.css?inline\";\n\nconst ResizeObserver = window.ResizeObserver || Polyfill;\n\nexport class Renderer {\n  readonly sideEffect = new SideEffectManager();\n  readonly box: ReadonlyTeleBox;\n  readonly role = writable<0 | 2>(2);\n  readonly ratio = writable(16 / 9);\n  readonly $content = element(\"div\");\n  readonly $iframe = element(\"iframe\");\n\n  constructor(public readonly context: AppContext) {\n    this.box = context.getBox();\n    attr(this.$content, \"class\", \"app-talkative-container\");\n    append(this.$content, this.$iframe);\n    this.$content.dataset.appKind = \"Talkative\";\n  }\n\n  private _on_update_role(role: 0 | 2) {\n    this.$content.dataset.role = String(role);\n    this.$content.classList.toggle(\"owner\", role === 0);\n  }\n\n  private _on_update_ratio(ratio: number, entry?: ResizeObserverEntry) {\n    const { width, height } = entry ? entry.contentRect : this.$content.getBoundingClientRect();\n    if (width / ratio > height) {\n      // const targetWidth = height * ratio;\n      // this.$iframe.style.width = `${targetWidth}px`;\n      this.$iframe.style.height = \"\";\n    } else if (width / ratio < height) {\n      // const targetHeight = width / ratio;\n      this.$iframe.style.width = \"\";\n      // this.$iframe.style.height = `${targetHeight}px`;\n    }\n  }\n\n  private _observe_content_resize() {\n    const observer = new ResizeObserver(entries => {\n      this._on_update_ratio(this.ratio.value, entries[0]);\n    });\n    observer.observe(this.$content);\n    return observer.disconnect.bind(observer);\n  }\n\n  mount() {\n    this.box.mountStyles(styles);\n    this.box.mountContent(this.$content);\n\n    this.sideEffect.addDisposer(this.role.subscribe(this._on_update_role.bind(this)));\n    this.sideEffect.addDisposer(this.ratio.subscribe(this._on_update_ratio.bind(this)));\n    this.sideEffect.addDisposer(this._observe_content_resize());\n\n    return this.destroy.bind(this);\n  }\n\n  destroy() {\n    this.sideEffect.flushAll();\n\n    detach(this.$content);\n  }\n\n  postMessage(message: unknown) {\n    console.log(message);\n    this.$iframe.contentWindow?.postMessage(message, \"*\");\n  }\n}\n","export function arrowLeftSVG(namespace: string): SVGElement {\n  const NS = \"http://www.w3.org/2000/svg\";\n\n  const $svg = document.createElementNS(NS, \"svg\");\n  $svg.setAttribute(\"class\", `${namespace}-footer-icon-arrow-left`);\n  $svg.setAttribute(\"viewBox\", \"0 0 20 20\");\n\n  $svg.innerHTML = `<g clip-path=\"url(#clip0_11800_99864)\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.5283 4.86182L12.4711 5.80463L8.22849 10.0473L12.4711 14.2899L11.5283 15.2327L6.34287 10.0473L11.5283 4.86182Z\" class=\"arrow\" />\n</g>\n<defs>\n<clipPath id=\"clip0_11800_99864\">\n<rect width=\"16\" height=\"16\" fill=\"white\" transform=\"translate(2 2)\"/>\n</clipPath>\n</defs>`;\n\n  return $svg;\n}\n","export function arrowRightSVG(namespace: string): SVGElement {\n  const NS = \"http://www.w3.org/2000/svg\";\n\n  const $svg = document.createElementNS(NS, \"svg\");\n  $svg.setAttribute(\"class\", `${namespace}-footer-icon-arrow-right`);\n  $svg.setAttribute(\"viewBox\", \"0 0 20 20\");\n\n  $svg.innerHTML = `<g clip-path=\"url(#clip0_11800_99870)\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.1377 4.86182L7.19489 5.80463L11.4375 10.0473L7.19489 14.2899L8.1377 15.2327L13.3231 10.0473L8.1377 4.86182Z\" class=\"arrow\" />\n</g>\n<defs>\n<clipPath id=\"clip0_11800_99870\">\n<rect width=\"16\" height=\"16\" fill=\"white\" transform=\"translate(2 2)\"/>\n</clipPath>\n</defs>`;\n\n  return $svg;\n}\n","import type { AppContext, ReadonlyTeleBox } from \"@netless/window-manager\";\nimport { SideEffectManager } from \"side-effect-manager\";\nimport { append, attr, detach, element, writable } from \"./utils\";\nimport { arrowLeftSVG } from \"./icons/arrow-left\";\nimport { arrowRightSVG } from \"./icons/arrow-right\";\n\nexport class Footer {\n  readonly sideEffect = new SideEffectManager();\n  readonly box: ReadonlyTeleBox;\n  readonly role = writable<0 | 2>(2);\n  readonly text = writable(\"...\");\n  readonly $footer = element(\"div\");\n  readonly $btnLeft = element(\"button\");\n  readonly $btnRight = element(\"button\");\n  readonly $span = element(\"span\");\n\n  constructor(\n    readonly context: AppContext,\n    readonly onPrev: () => void,\n    readonly onNext: () => void\n  ) {\n    this.box = context.getBox();\n    append(this.$footer, this.$btnLeft);\n    append(this.$footer, this.$span);\n    append(this.$footer, this.$btnRight);\n    attr(this.$footer, \"class\", \"app-talkative-footer\");\n    attr(this.$btnLeft, \"class\", \"app-talkative-btn app-talkative-btn-left\");\n    attr(this.$btnRight, \"class\", \"app-talkative-btn app-talkative-btn-right\");\n    attr(this.$span, \"class\", \"app-talkative-page\");\n    this.$btnLeft.appendChild(arrowLeftSVG(\"app-talkative\"));\n    this.$btnRight.appendChild(arrowRightSVG(\"app-talkative\"));\n    this.$btnLeft.addEventListener(\"click\", this.onPrev);\n    this.$btnRight.addEventListener(\"click\", this.onNext);\n  }\n\n  private _on_update_role(role: 0 | 2) {\n    this.$btnLeft.disabled = role === 2;\n    this.$btnRight.disabled = role === 2;\n    this.$footer.classList.toggle(\"owner\", role === 0);\n  }\n\n  private _on_update_text(text: string) {\n    this.$span.textContent = text;\n  }\n\n  mount() {\n    this.box.mountFooter(this.$footer);\n\n    this.sideEffect.addDisposer(this.role.subscribe(this._on_update_role.bind(this)));\n    this.sideEffect.addDisposer(this.text.subscribe(this._on_update_text.bind(this)));\n\n    return this.destroy.bind(this);\n  }\n\n  destroy() {\n    this.sideEffect.flushAll();\n\n    detach(this.$footer);\n  }\n}\n","import type { Logger } from \"@netless/app-shared\";\nimport type { AppContext } from \"@netless/window-manager\";\nimport type { TalkativeAttributes, MagixEventPayloads } from \"./index\";\nimport { SideEffectManager } from \"side-effect-manager\";\n\nexport interface ConnectParams {\n  context: AppContext<TalkativeAttributes, MagixEventPayloads>;\n  logger: Logger;\n  postMessage: (message: string) => void;\n  onRatioChanged: (ratio: number) => void;\n  isSentBySelf: (source: MessageEventSource | null) => boolean;\n  onLocalMessage?: (appId: string, event: Record<string, unknown>) => void;\n}\n\nexport function connect({ context, logger, ...callbacks }: ConnectParams): () => void {\n  const sideEffect = new SideEffectManager();\n\n  const handlers = {\n    onPagenum({ totalPages }: { totalPages: number }) {\n      if (context.getIsWritable() && totalPages) {\n        context.storage.setState({ pageNum: totalPages });\n      }\n    },\n\n    onLoadComplete(data: { totalPages?: number; coursewareRatio: number }) {\n      callbacks.onRatioChanged(data.coursewareRatio);\n\n      if (context.getIsWritable() && data.totalPages) {\n        context.storage.setState({ pageNum: data.totalPages });\n      }\n\n      // send last message to sync state\n      const { page, lastMsg } = context.storage.state;\n      lastMsg && callbacks.postMessage(lastMsg);\n\n      // send first page jump message\n      callbacks.postMessage(JSON.stringify({ method: \"onJumpPage\", toPage: page }));\n    },\n    onLocalMessage(event: Record<string, unknown>) {\n      if (context.getIsWritable()) {\n        callbacks?.onLocalMessage && callbacks.onLocalMessage(context.appId, event);\n      }\n    },\n\n    onFileMessage(event: Record<string, unknown>) {\n      if (context.getIsWritable()) {\n        context.dispatchMagixEvent(\"broadcast\", JSON.stringify(event));\n\n        // save last message\n        const lastMsg = JSON.stringify({ ...event, isRestore: true });\n        context.storage.setState({ lastMsg });\n      }\n    },\n  };\n\n  sideEffect.addDisposer(\n    context.addMagixEventListener(\"broadcast\", ({ payload }) => {\n      console.log(payload);\n      callbacks.postMessage(payload);\n    })\n  );\n\n  sideEffect.addEventListener(window, \"message\", ev => {\n    if (!callbacks.isSentBySelf(ev.source)) return;\n    if (typeof ev.data === \"string\") {\n      try {\n        const event = JSON.parse(ev.data);\n        if (typeof event === \"object\" && event !== null) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          const handler = (handlers as any)[event.method];\n          if (handler) {\n            handler(event);\n          } else {\n            logger.warn(\"unknown message\", event);\n          }\n        }\n      } catch (error) {\n        logger.warn(\"error when parsing message\", error);\n      }\n    } else if (typeof ev.data === \"object\" && ev.data !== null) {\n      logger.log(\"unhandled permission command\", ev.data);\n    }\n  });\n\n  return sideEffect.flushAll.bind(sideEffect);\n}\n","export const width = 630;\nexport const height = 350;\n","import type { AnimationMode, NetlessApp } from \"@netless/window-manager\";\nimport { Logger } from \"@netless/app-shared\";\nimport { SideEffectManager } from \"side-effect-manager\";\nimport { appendQuery, getUserPayload, nextTick } from \"./utils\";\nimport { Renderer } from \"./renderer\";\nimport { Footer } from \"./footer\";\nimport { connect } from \"./connect\";\nimport { height } from \"./hardcode\";\n\nexport interface TalkativeAttributes {\n  /** (required) courseware url */\n  src: string;\n  /** teacher's uid */\n  uid: string;\n  /** current page */\n  page: number;\n  pageNum: number;\n  /** sync to new users */\n  lastMsg: string;\n}\n\nexport interface MagixEventPayloads {\n  broadcast: string;\n}\n\nexport interface TalkativeOptions {\n  debug?: boolean;\n  onLocalMessage?: (appId: string, event: Record<string, unknown>) => void;\n  //抛出一个函数对象，用来接收外部传进来的消息\n  setReceivePostMessageFun?:(fun:(message:unknown)=>void)=>void;\n  //同步数据获取\n  getInfoSync?:(configInfo:string) => unknown;\n}\n\nconst Talkative: NetlessApp<TalkativeAttributes, MagixEventPayloads, TalkativeOptions> = {\n  kind: \"Talkative\",\n  setup(context) {\n    context.storage.ensureState({\n      src: \"https://example.org\",\n      uid: \"\",\n      page: 1,\n      pageNum: 1,\n      lastMsg: \"\",\n    });\n    const ClickThroughAppliances = new Set([\"clicker\"]);\n\n    // const debug = (context.getAppOptions() || {}).debug;\n    const { onLocalMessage, debug,setReceivePostMessageFun,getInfoSync } = (context.getAppOptions() || {}) as TalkativeOptions;\n    const logger = new Logger(\"Talkative\", debug);\n    const { uid } = getUserPayload(context);\n    const sideEffect = new SideEffectManager();\n    const view = context.getView();\n    const room = context.getRoom();\n\n    logger.log(\"my uid\", uid);\n\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    let toggleClickThrough: (enable?: boolean) => void = () => {};\n    const shouldClickThrough = (tool: string) => {\n      return ClickThroughAppliances.has(tool);\n    };\n    const setPage = (page: unknown): void => {\n      if (!view) {\n        logger.warn(\"SetPage: page api is only available with 'scenePath' options enabled.\");\n      } else {\n        const scenePath = context.getInitScenePath();\n        if (typeof page === \"string\" && context.getIsWritable() && scenePath && room) {\n          const fullScenePath = [scenePath, page].join(\"/\");\n          if (room.scenePathType(fullScenePath) === \"none\") {\n            room.putScenes(scenePath, [{ name: page }]);\n          }\n          context.setScenePath(fullScenePath);\n          context.updateAttributes([\"page\"], page);\n        }\n      }\n    };\n    const onPrevPage = () => {\n      const { page } = context.storage.state;\n      if (context.getIsWritable() && page > 1) {\n        context.storage.setState({ page: page - 1 });\n      }\n    };\n\n    const onNextPage = () => {\n      const { page, pageNum } = context.storage.state;\n      if (context.getIsWritable() && page < pageNum) {\n        context.storage.setState({ page: page + 1 });\n      }\n    };\n\n    const renderer = new Renderer(context);\n    const footer = new Footer(context, onPrevPage, onNextPage);\n\n    const postMessage = renderer.postMessage.bind(renderer);\n    setReceivePostMessageFun?.(postMessage)\n    sideEffect.addDisposer(\n      connect({\n        context,\n        logger,\n        postMessage,\n        onRatioChanged: renderer.ratio.set.bind(renderer.ratio),\n        isSentBySelf: source => source === renderer.$iframe.contentWindow,\n        onLocalMessage,\n      })\n    );\n\n    sideEffect.addDisposer(\n      context.storage.addStateChangedListener(() => {\n        // update role\n        const role = context.storage.state.uid === uid ? 0 : 2;\n        renderer.role.set(role);\n        footer.role.set(role);\n        // update page\n        const { page, pageNum } = context.storage.state;\n        postMessage(JSON.stringify({ method: \"onJumpPage\", toPage: page }));\n        footer.text.set(`${page}/${pageNum}`);\n      })\n    );\n\n    if (room) {\n      sideEffect.add(() => {\n        const onRoomStateChanged = (e: { memberState: { currentApplianceName: string } }) => {\n          if (e.memberState) {\n            toggleClickThrough(shouldClickThrough(e.memberState.currentApplianceName));\n          }\n        };\n        room.callbacks.on(\"onRoomStateChanged\", onRoomStateChanged);\n        return () => room.callbacks.off(\"onRoomStateChanged\", onRoomStateChanged);\n      });\n    }\n\n    const on_ready = async () => {\n      sideEffect.addDisposer(renderer.mount());\n      sideEffect.addDisposer(footer.mount());\n\n      const role = context.storage.state.uid === uid ? 0 : 2;\n\n      const method = JSON.stringify({method:\"getTalkActiveUrlParams\"})\n      //url额外的拼接参数\n      const params = await getInfoSync?.(method)\n      console.log('talkativeGetInfoSyncValue111', params)\n\n      const query = `${params}`;\n\n      renderer.$iframe.src = appendQuery(context.storage.state.src, query);\n\n      renderer.role.set(role);\n      footer.role.set(role);\n      const { page, pageNum } = context.storage.state;\n      footer.text.set(`${page}/${pageNum}`);\n      setPage(`${page}`);\n      if (view) {\n        // 添加一个 viewBox，用于添加绘制白板\n        const viewBox = document.createElement(\"div\");\n        Object.assign(viewBox.style, {\n          width: \"100%\",\n          height: \"100%\",\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          overflow: \"hidden\",\n        });\n        renderer.$content.appendChild(viewBox);\n        context.mountView(viewBox);\n        view.disableCameraTransform = true;\n        sideEffect.add(() => {\n          const onResize = () => {\n            const clientRect = renderer.$content.getBoundingClientRect();\n            const scale = clientRect.height /height;\n            view.moveCamera({ scale, animationMode: \"immediately\" as AnimationMode });\n          };\n          const observer = new ResizeObserver(onResize);\n          observer.observe(renderer.$content);\n          return () => observer.disconnect();\n        });\n\n        toggleClickThrough = (enable?: boolean) => {\n          viewBox.style.pointerEvents = enable ? \"none\" : \"auto\";\n        };\n\n        if (room?.state.memberState.currentApplianceName) {\n          toggleClickThrough(shouldClickThrough(room?.state.memberState.currentApplianceName));\n        }\n      }\n    };\n\n    // if there's no uid, wait for it to exist\n    if (!context.storage.state.uid) {\n      const disposerID = sideEffect.addDisposer(\n        context.storage.addStateChangedListener(() => {\n          if (context.storage.state.uid) {\n            sideEffect.flush(disposerID);\n            on_ready();\n          }\n        })\n      );\n\n      if (context.isAddApp) {\n        logger.log(\"no teacher's uid, setting myself...\");\n        context.storage.setState({ uid });\n      }\n    } else {\n      nextTick.then(on_ready);\n    }\n\n    context.emitter.on(\"destroy\", () => {\n      logger.log(\"destroy\");\n      sideEffect.flushAll();\n    });\n  },\n};\n\nexport default Talkative;\n"],"names":["randomColor","this","hex","ResizeObserverBoxOptions","ResizeObserverSize","DOMRectReadOnly","height","global","ResizeObserverEntry","callbacks","ResizeObserver","Scheduler","ResizeObservation","size","ResizeObserverDetail","ResizeObserverController","Polyfill"],"mappings":"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"}